#Update Packages
sudo yum update -y

#Clone Git Repo
sudo yum install git -y
mkdir Repos
cd Repos
git clone https://github.com/ryan-policheri/MobileEquations.git
cd ..

#Install Python
sudo yum install python3 -y
sudo yum install pip3 -y
pip3 install pyinstaller

#Deploy Python Program
mkdir EquationSolver
cd EquationSolver
pyinstaller ~/Repos/MobileEquations/EquationSolver/EquationSolver.py --onefile
cd ..

#Install .NET
sudo rpm -Uvh https://packages.microsoft.com/config/centos/7/packages-microsoft-prod.rpm
sudo yum install aspnetcore-runtime-5.0 -y
sudo yum install dotnet-sdk-5.0 -y

#Build Api
mkdir Api
dotnet publish Repos/MobileEquations/WebApi/MobileEquations.WebApi --output Api

#Install and Configure Web Server
sudo yum install httpd -y
sudo yum install httpd mod_ssl -y
sudo cp Repos/MobileEquations/ServerSetup/Api.conf /etc/httpd/conf.d/Api.conf

#Start Web Server
sudo systemctl start httpd
sudo service httpd configtest
sudo systemctl restart httpd
sudo systemctl enable httpd
cd Api
dotnet MobileEquations.WebApi.dll & disown